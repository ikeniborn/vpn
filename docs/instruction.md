
## 1. Скрипт установки VPN сервера

## 2. Скрипт управления пользователями

## Инструкция по использованию

### 1. Установка VPN сервера

1. Сначала загрузите скрипт установки:
```bash
wget -O install_vpn.sh https://raw.githubusercontent.com/path/to/install_vpn.sh
chmod +x install_vpn.sh
```

2. Запустите скрипт от имени пользователя root:
```bash
sudo ./install_vpn.sh
```

3. Скрипт установит все необходимые компоненты:
   - Docker и Docker Compose (если не установлены)
   - UFW брандмауэр (если не установлен)
   - Создаст конфигурацию v2ray с протоколом vless+reality
   - Настроит первого пользователя
   - Сгенерирует QR-код и ссылку для подключения

### 2. Управление пользователями

1. После установки скрипт управления пользователями будет скопирован в `/opt/v2ray/manage_users.sh`

2. Для удобства можно использовать команду:
```bash
sudo v2ray-manage
```

3. В меню управления доступны следующие функции:
   - Просмотр списка пользователей
   - Добавление нового пользователя с генерацией QR-кода
   - Удаление пользователя
   - Редактирование данных пользователя
   - Просмотр информации о пользователе
   - Проверка статуса сервера
   - Перезапуск сервера

### Примечания

- Оба скрипта создают подробные логи и выводят информацию о процессе установки/управления
- QR-коды сохраняются в директории `/opt/v2ray/users/` для каждого пользователя
- Информация о пользователях хранится в формате JSON в той же директории
- Порт по умолчанию - 443, но его можно изменить во время установки
- Протокол VLESS+Reality защищен от обнаружения и блокировки

Для наилучшей безопасности рекомендуется регулярно обновлять Docker-образ и следить за обновлениями v2ray.